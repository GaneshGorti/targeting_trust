{% extends "global/Page.html" %}
{% block content %}

<h2>Final questionnaire</h2>

<p>Thank you for your time until now. Please answer the following final questions.</p>

{% if not player.is_admin %}

    <!-- FIRST 5 QUESTIONS -->
    <div id="part1">

        <div>
            <p><strong>{{ form.trust_admin_public_funds.label }}</strong></p>
            {{ form.trust_admin_public_funds }}
        </div>

        <div>
            <p><strong>{{ form.trust_administration_overall.label }}</strong></p>
            {{ form.trust_administration_overall }}
        </div>

        <div>
            <p><strong>{{ form.perceived_fairness.label }}</strong></p>
            {{ form.perceived_fairness }}
        </div>

        <div>
            <p><strong>{{ form.trust_gov.label }}</strong></p>
            {{ form.trust_gov }}
        </div>

        <div>
            <p><strong>{{ form.age.label }}</strong></p>
            {{ form.age }}
        </div>

    </div>

    <!-- REMAINING QUESTIONS -->
    <div id="part2" style="display:none;">

        <div>
            <p><strong>{{ form.gender.label }}</strong></p>
            {{ form.gender }}
        </div>

        <div>
            <p><strong>{{ form.income.label }}</strong></p>
            {{ form.income }}
        </div>

        <div>
            <p><strong>{{ form.education.label }}</strong></p>
            {{ form.education }}
        </div>

        <div>
            <p><strong>{{ form.pol_lean.label }}</strong></p>
            {{ form.pol_lean }}
        </div>

    </div>

    <button type="button" id="continueBtn">Continue</button>

    <!-- Next hidden initially for citizens -->
    <div id="nextBtn" style="display:none;">
        {{ next_button }}
    </div>

{% else %}

    {{ formfields }}
    {{ next_button }}

{% endif %}

<script>
    document.addEventListener("DOMContentLoaded", function(){
    
        let btn = document.getElementById("continueBtn");
    
        if(btn){
            btn.onclick = function(){
                document.getElementById("part1").style.display = "none";
                document.getElementById("part2").style.display = "block";
                btn.style.display = "none";
    
                let nextDiv = document.getElementById("nextBtn");
                if(nextDiv){
                    nextDiv.style.display = "block";
                }
            };
        }
    
    });
    </script>

{% endblock %}